<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        
        select {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
            margin: 10px 0;
            background: white;
        }
        
        /* モバイルで確実にネイティブスタイルを使用 */
        @media (max-width: 768px) {
            select {
                -webkit-appearance: menulist !important;
                -moz-appearance: menulist !important;
                appearance: menulist !important;
                background-image: none !important;
                z-index: 9999 !important;
                position: relative !important;
            }
        }
        
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>Select要素テスト</h1>
    
    <div class="test-section">
        <h2>テスト1: 基本的なselect</h2>
        <label>価格帯:</label>
        <select name="price_test">
            <option value="">選択してください</option>
            <option value="500">〜500円</option>
            <option value="1000">〜1000円</option>
            <option value="2000">〜2000円</option>
            <option value="5000">5000円以上</option>
        </select>
    </div>
    
    <div class="test-section">
        <h2>テスト2: 高校選択</h2>
        <label>高校:</label>
        <select name="school_test">
            <option value="">選択してください</option>
            <option value="甲府第一高等学校">甲府第一高等学校</option>
            <option value="甲府西高等学校">甲府西高等学校</option>
            <option value="甲府南高等学校">甲府南高等学校</option>
            <option value="甲府東高等学校">甲府東高等学校</option>
        </select>
    </div>
    
    <div class="test-section">
        <h2>テスト3: フォーム内のselect</h2>
        <form>
            <label>価格帯（フォーム内）:</label>
            <select name="price_form">
                <option value="">選択してください</option>
                <option value="500">〜500円</option>
                <option value="1000">〜1000円</option>
                <option value="2000">〜2000円</option>
            </select>
            
            <br><br>
            
            <button type="button" onclick="alert('選択された値: ' + document.querySelector('[name=price_form]').value)">
                選択内容を確認
            </button>
        </form>
    </div>
    
    <div class="test-section">
        <h2>デバッグ情報</h2>
        <p>画面幅: <span id="screen-width"></span>px</p>
        <p>ユーザーエージェント: <span id="user-agent"></span></p>
        <p>タッチサポート: <span id="touch-support"></span></p>
    </div>

    <script>
        // デバッグ情報表示
        document.getElementById('screen-width').textContent = window.innerWidth;
        document.getElementById('user-agent').textContent = navigator.userAgent;
        document.getElementById('touch-support').textContent = 'ontouchstart' in window ? 'あり' : 'なし';
        
        // select要素のイベント監視
        document.querySelectorAll('select').forEach((select, index) => {
            console.log(`Select ${index} ready:`, select);
            
            ['touchstart', 'touchend', 'mousedown', 'mouseup', 'focus', 'blur', 'change'].forEach(eventType => {
                select.addEventListener(eventType, function(e) {
                    console.log(`${eventType} on select ${index}:`, e.target.name, 'Value:', e.target.value);
                });
            });
        });
        
        // 画面タップ監視
        document.addEventListener('click', function(e) {
            console.log('Click on:', e.target.tagName, e.target);
        });
    </script>
</body>
</html>
